[{"body":"在宅勤務5週目 新型コロナウイルス感染症（COVID-19）対策としてぼくが所属する GMO ペパボは東京・福岡で在宅勤務を継続していて、すでに1ヶ月以上出社していない。いわゆるGMO 増田などあったが、まあ実際のところはテックブログ等を読んでもらえば分かるだろう。\n GMO ペパボのリモートワーク状況 2020 - ペパボテックブログ ペパボのパートナーの自宅作業デスクまとめ - ペパボテックブログ  運動不足問題 ぼくは普段5km程度を自転車で出勤し、オフィスではコーヒーを注いだりトイレに行ったりミーティングをしたりとある程度は歩き、また5km程度を自転車で帰るという生活を送っていた。在宅勤務になるとこれらはほとんど失われる。ジムには定期的に通っているものの（しかしそれも厳しくなりそう）、日常的な運動量が減るのは痛い。だから最近は積極的に散歩をするようにしている。\n散歩は娘（4ヶ月半）を抱っこひもで連れていく。昼休みや退勤後に、安全な道を7kg弱の負荷をかけて歩く。これがなかなか楽しいし役にも立つ。\n三方良し このぐらいの子供は自分で上手く寝ることが出来ない。娘も日によっては昼寝が満足に出来ず、そのせいで逆に夜寝れないなんてことがある。そういうときに抱っこひもで連れて歩くとよく昼寝が出来て、娘の満足度は高い（と勝手に思っている）。妻は妻で日中娘に掛かりきりなので一人の時間が出来ることはありがたいようだ。家族全体としても夜に娘が寝付きやすければありがたい。そしてぼく自身も運動量が増えて、娘と触れ合う時間が増えれば楽しい。在宅勤務といえども勤務中は業務遂行に専念すべきなので、娘とのまとまった時間が取れるのはとても良い。 三方良し、これが近江商人の精神である。\n「世間に良し」。まあ、良いんじゃないかな。\n","title":"子を連れて散歩する（三方良し）","url":"/post/walking/"},{"body":"なぜいまさら hugo で画像を最適化（リサイズ）して出力したのときに画像を /static/images/ から /content/post/[各記事]/ 以下に移動させたわけだが、完全に OGP タグのことを忘れていた。\n変更点 /layouts/partials/head_custom.html\n\u0026lt; \u0026lt;meta property=\u0026quot;og:image\u0026quot; content=\u0026quot;{{if .Params.image}}https://tbsmcd.net{{.Params.image}}{{else}}https://tbsmcd.net/images/icon_mono.jpg{{end}}\u0026quot; /\u0026gt; --- \u0026gt; {{ if .Params.image }} \u0026gt; {{ $src := .Params.image }} \u0026gt; {{ $resource := .Page.Resources.GetMatch $src }} \u0026gt; \u0026lt;meta property=\u0026quot;og:image\u0026quot; content=\u0026quot;https://tbsmcd.net{{ $resource.Permalink }}\u0026quot; /\u0026gt; \u0026gt; {{ else }} \u0026gt; \u0026lt;meta property=\u0026quot;og:image\u0026quot; content=\u0026quot;https://tbsmcd.net/images/icon_mono.jpg\u0026quot; /\u0026gt; \u0026gt; {{ end }} 記事ディレクトリ直下にある画像のうち OGP に使いたいファイル名を index.md のメタデータ部分に image: \u0026quot;hoge.jpg\u0026quot; と書いておけば展開される。image: \u0026quot;hoge.jpg\u0026quot; がない場合はデフォルトの画像が表示される。記事直下にない画像ファイルを指定した場合はビルドでエラーになるので気付くことができる。\n","title":"OGP イメージに resource を使う","url":"/post/ogp_using_resource/"},{"body":"   通っているジムが3月から24時間営業になる。入退館管理には Raspberry Pi が使われるようだ。こういうシステムを導入する場合、ハードウェアごと借りるパケージになっていそうだけど、そうではないのかな？いずれにせよハックしてる感じがしてワクワクする。ジムの人が DIY しているとまでは思っていないけど。\n","title":"ハッカブル・ジム","url":"/post/hackable_gym/"},{"body":"  安倍晋三が2018年の記者会見で述べた言葉に「信なくば立たず」がある。これは『論語』顔淵第十二の七にある「民無信不立（民信なくんば立たず）」のことだ。論語を引くほどだから、儒教を「中国思想だから」と否定する偏狭なウヨク連中とは違うのだろう。 さて、次のような一節が論語にはある。\n子路曰、衞君待子而爲政、子將奚先、子曰、必也正名乎、子路曰、有是哉、子之迂也、奚其正、子曰、野哉由也、君子於其所不知、蓋闕如也、名不正則言不順、言不順則事不成、事不成則禮樂不興、禮樂不興則刑罰不中、刑罰不中則民無所錯手足、故君子名之必可言也、言之必可行也、君子於其言、無所苟而已矣、\n金谷治 訳註 『論語』岩波文庫より子路第十三の三\n「名と実があってないと言葉も順当でなく（略）君子は言葉をいい加減にしてはならない」極めて簡潔かつ真っ当な論理であるし、論語の中では解釈も文法も簡単な方だ。記者会見で論語を引用するような安倍晋三であれば、きっとこれも心に留めてるんだろうなとは思う。もっとも、彼が格好をつけて読みもしない論語を引いていなければだけど。もしくは、彼が言葉を理解できていたらだけど。\n なお、小泉進次郎環境大臣の父君もこの言葉を座右の銘としていたらしい。反省はしているが反省が反省と反省に……よく分からないので、父上に言葉の意味を訊いてきて欲しい。父上も……理解してなかったのかもな。\n","title":"安倍晋三は論語を読んだのか？もしくは言葉を理解できているのか？","url":"/post/shiro_13_3/"},{"body":"ブログを軽くしたい 林田ドットオンラインというまあまあ狂ったブログがあり、これはペパボの同僚の手になるものだけど、とにかく異常に軽い。WordPress でこれだけ軽いのだから、 hugo ならもっと軽くなるはず。なのでこのブログも軽量路線で行こうという話。\nなにはともあれ画像がデカい 大きければ転送に時間がかかる。これは古代エジプトの時代から不変の原理であり、当時は巨石を丸太のコロを使っただとか、ソリを使っただとか、いずれにせよ重いものを運ぶのには力か工夫が必要である。幸い2020年代を生きている我々は、巨石を運ぶ古代エジプト労働者やイースター島モアイ建造従事者とは違い、ファイルを圧縮したり画像自体の表示領域を小さくすることが許されている。逆に労働の合間にビールを飲むことは許されてはいないが、ここは素直に軽くする方向で行きたい。\nhugo における画像リサイズ 参照\n Image Processing | Hugo Page Resources | Hugo  上の記事を読むと、画像を Page Resource として扱うようにすると画像はリサイズできることがわかる。\nResource として扱う？ 従来\n├── content │ ├── _index.md │ ├── post │ │ ├── added_archives.md │ │ ├── added_favicon.md │ │ ├── hello.md │ │ ├── index_md_is_useful.md │ │ ├── my_desk.md │ │ ├── reading_card.md │ │ ├── reading_card_addition.md │ │ ├── studio_alice.md │ │ └── syntax_highlighting.md │ └── profile.md （略） ├── static │ ├── images │ │ ├── desk.JPG │ │ ├── icon_gen.jpg │ │ ├── icon_mono.jpg │ │ ├── reading_card.jpg │ │ └── studio.jpg 変更後\n├── content │ ├── _index.md │ ├── post │ │ ├── added_archives │ │ │ └── index.md │ │ ├── added_favicon │ │ │ ├── icon_gen.jpg │ │ │ ├── icon_mono.jpg │ │ │ └── index.md │ │ ├── hello │ │ │ └── index.md │ │ ├── index_md_is_useful │ │ │ └── index.md │ │ ├── my_desk │ │ │ ├── desk.JPG │ │ │ └── index.md │ │ ├── reading_card │ │ │ ├── card.jpg │ │ │ └── index.md │ │ ├── reading_card_addition │ │ │ └── index.md │ │ ├── studio_alice │ │ │ ├── index.md │ │ │ └── studio.jpg │ │ └── syntax_highlighting │ │ └── index.md │ └── profile.md という感じでまずは画像を記事ごとに保持する。そうすると画像を Resource として扱えるようになり、Image Processing が使えるようになる。\nshortcode 以下のような shortcode を用意する\n/layouts/shortcodes/img800x.html\n{{ $src := .Get \u0026#34;src\u0026#34; }} {{ $original := .Page.Resources.GetMatch $src }} {{ if $original }} {{ $resized := $original.Resize \u0026#34;800x q90\u0026#34; }} \u0026lt;a href=\u0026#34;{{ $original.RelPermalink }}\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;{{ $resized.RelPermalink }}\u0026#34; alt=\u0026#34;{{ .Get \u0026#34;alt\u0026#34; }}\u0026#34;\u0026gt; \u0026lt;/a\u0026gt; {{ end }} Resize \u0026quot;800x\u0026quot; の部分で幅800を指定している。例えば幅400縦200の画像なら Resize \u0026quot;400x200\u0026quot; だし、縦300の画像なら Resize \u0026quot;x300\u0026quot; となる。q90 というのは jpeg のクオリティ。このあたりは上記公式ドキュメントを読めば分かるだろう。\n……と、このような shortcode を用意し、*.md の中でファイル名と同名で呼べば良い。\n例えばこんな感じで\nshortcode の解説は後日別記事で行う（かもしれない）（いま酒飲んでて後のことはよく分からない）（期待しないで）。\n実際にこの作業をおこなった記事 これとかこれとか。\n画像の再配置は全ページについて行った。\n補足 OGP タグについてはこちら\n","title":"hugo で画像を最適化して出力する","url":"/post/image_processing/"},{"body":"元画像の準備  Twitter などで使っているアイコンを白黒で作り直した。今回は Piskel を利用した。\nfavicon 化   Favicon \u0026amp; App Icon Generator を利用した。サイト名から分かるとおり、 favicon だけではなくスマートフォン用の App Icon も作成してくれるし、画像のように \u0026lt;head\u0026gt; 内のコードまで用意してくれるから頭を使わなくて良い。\nHead にコードを追加 hugo ではテーマの layout 以下にあるファイルよりブログの layout 以下の同名ファイルが優先して利用される1。通常 \u0026lt;head\u0026gt; 内を変更したい場合はテーマの layout/partials/header.html をコピーし、ブログのディレクトリに同名で保存して編集すれば良い。このブログで使っているテーマは少し事情が違い header.html 内で空の header_custom.html を読み込むようになっているので、今回は favicon 用のコードを書いた head_custom.html をブログの同一 path に設置した。\n  hugo の layout の優先順位については公式ドキュメント参照のこと。 \u0026#x21a9;\u0026#xfe0e;\n   ","title":"hugo に favicon を追加したメモ","url":"/post/added_favicon/"},{"body":"参照 Scrapbox で読書カードを作ってみる | tbsmcd\n要約→項目カード, 要約→読書カードという順番について 書籍によって向き・不向きがあるはずなのだが、それを無視してしまった。今回『エンジニアリング組織論への招待　～不確実性に向き合う思考と組織のリファクタリング』を題材に始めたのだが、本書は幅広い知識の総覧としての性質をもつ。この場合当然に要約から項目カードが作り出せるし、要約からこそ全体像を描ける。しかし特定の分野を深く掘るような書籍の場合は読書カードから項目カードを作るやり方が向いているのかもしれない。\n『読書家の新技術』について 古書店に注文したものがようやく届いた。今夜から読んでいこうと思う。\n","title":"Scrapbox で読書カードを作ってみる 補足","url":"/post/reading_card_addition/"},{"body":"  読書カードとは 学生の頃に読んだ呉智英『読書家の新技術』をいま思い出した。本書技術編には読書カードの作り方が書かれている。読書カードとはその本の全体像を書き、あとで読み返すときに参考にするもの。読書カードが溜まったら項目カードを作る。項目カードはいわば個人的な索引で、その項目のカードを見れば言及している本を探せるようになる。 これが読書カードの概要であるが、かつて読んだ『読書家の新技術』文庫は手元になく北大恵迪寮のどこかに埋もれているはずで、この記述の正確性は担保できない（いまから中古を注文する→注文した！）。\n自分なりの応用法 本書の読書カードは手書き時代のものだ。デジタル化により検索性と編集容易性が共に向上した現在においてはアップデートされるべきアイデアだと思う。今回の試みではラフとしてまずチャプター/章ごとに要約を作っていく。要約を作る際に項目カード化しそうな語については #エンジニアリング のような形式で書いておく。Scrapbox においてはハッシュタグのリンク先はページ化されるので、あとで埋めていけば良いだろう。埋めるまでもなければハッシュを削除する。\nリンク  tbsmcd の読書メモ  まずは『エンジニアリング組織論への招待　～不確実性に向き合う思考と組織のリファクタリング』（広木大地）を題材に。\n補足あり\n","title":"Scrapbox で読書カードを作ってみる","url":"/post/reading_card/"},{"body":"  🤔\n プロすごい 写真論とか撮影技術とか分からないけど、上機嫌とはいえない0歳児からどうにか引き出した0.1秒の笑顔を切り取る技術は子供専門スタジオだからこそだし、撮影しているさまを見るだけでも十分面白く勉強にもなったので、あれには財布の紐も緩むというもの。\n各所から頂いた出産祝で払いました……\n","title":"スタジオアリスの撮影料（3000円）無料券をもらったので行った","url":"/post/studio_alice/"},{"body":"  あまりきれいでもないし整理もされていない ペパボのパートナーの自宅作業デスクまとめ - ペパボテックブログ\nデスク環境さらしなどをやっていると「きれいに整理されてるけど、写真を取るときに片付けたんでしょ？」みたいな反応があって、まあそりゃ人間自身も100%普段着で写真に写る必要もないわけだから「机だって同じだよ」と言いたくなるのだけど、とにかく敢えて普段どおりの雑然とした机の写真を撮ってみた。\n机の上や周りににあるもの 技術書無いの？ 技術書は本棚にあるか、電子書籍で買っている。最近は電子書籍が多い。机の上にある本についてはいま大切だと思っている本を置いている。\nあとはページ下部に。\n市バスのりば 神戸市交通局で買え(る|た)もの。気に入っていていまだ開封せずに使っている。\n音 ヤマハのスピーカーと FX-AUDIO のデジタルアンプ。金属ラックにスピーカーを置くのは禁忌だけど、アンカー代わりにコンクリートブロック（モノタロウで買った）を置き、ゴムシートを敷くことで空中に擬似的に強固な地盤を作れたと思う。\nG-レコ BD 本体より絵コンテ集の方がデカい。絵コンテが本体。\nヘッドセット ミーティングをオンラインで行うときにとても便利。ここでようやく仕事っぽい話題が出て終わる。\n（机に並んでる本）\n  椅子 あ、いちおう椅子はオカモトのバロンの中古で、送料込みで2万円。ただし自分で修理ができる人向けではある。\n","title":"テックブログに載らない作業環境","url":"/post/my_desk/"},{"body":"こういう感じ \u0026lt;?php class SimpleClass { // プロパティの宣言  public $var = \u0026#39;a default value\u0026#39;; // メソッドの宣言  public function displayVar() { echo $this-\u0026gt;var; } } コードは PHP: クラスの基礎 - Manual  より\nテーマの編集 対応する Pull Request\nAdd syntax highlighting #1\nシンタックスハイライト用の CSS を生成する。コマンドはこちらを参照のこと。/ style-name はここから好きなものを選べば良い。今回は manni を選んだ。\n$ hugo gen chromastyles --style [style-name] \u0026gt; code.css ついでにインラインコードの背景を manni と合わせた。\n生成した CSS を static/css/ 以下に配置し、html から読み込みために header を編集する。\nローカルでビルドする場合はブログのソースに CSS を追加すれば良いと思う。今回は Github Actions でビルドしているため、テーマの方に追加した。その場合でもテーマに追加せず、ビルドスクリプト上で配置することも出来ると思う。\nconfig.toml の編集 対応する Pull Request\nシンタックスハイライト適用 #5\n# シンタックスハイライトを有効に pygmentsUseClasses = true # github 風に ``` で囲む pygmentsCodefences = true ついでにシンタックスハイライト無しの pre の背景色も合わせた。\naaa あああ おわりに ようやくコードを書けるようになった。余計な装飾はいらないが、必要な機能は欲しいというわがままな欲求はこうやって叶えていく。本筋とは関係ないが Github で管理すると機能追加した P/R をブログに載せれるので便利。\n","title":"hugo でシンタックスハイライトを追加した","url":"/post/syntax_highlighting/"},{"body":"変更点 対応する Pull Request\nアーカイブを追加 #4\nただし後述の通り、日付フォーマットには 2006-01 を使う。\n簡単な説明  footer は config.toml で定義しているので変更 すでにあるページには追記する必要があるので手動で変更  archives: [\u0026quot;2020-02\u0026quot;] 記事が2つしか無かったので手動だったが、多ければスクリプトを書く必要がありそう   config.toml に [taxonomies] を追加 archetypes に archives: [\u0026quot;{{ dateFormat \u0026quot;2020-02\u0026quot; .Date }}\u0026quot;] を追加したが、このフォーマットに対応していないのか3030年とかになる  archives: [\u0026quot;2020-02\u0026quot;] のように決め打ちしといても間違いはなさそう  修正 \u0026amp;\u0026amp; 追記  archives: [\u0026quot;{{ dateFormat \u0026quot;2006-01\u0026quot; .Date }}\u0026quot;] としたら問題がなかった ドキュメントで使用されている日付(2006/01/02)を採用したら問題は起きない        ","title":"Archives ページを導入した","url":"/post/added_archives/"},{"body":"前提 自分のブログはなるべく装飾のないものにしたかったので hugo-xminを採用した(注: その後フォークしたものを使うことに)。ヘッダも余計なものに見えたので削除している。しかし Home はある程度情報を追加したいというわがままな欲求がある。\nやったこと xmin のサンプルサイトの HUGO XMIN から usage of this theme. の部分は content/_index.markdown に書かれているようだ。とりあえず拡張子を .md に変更して自分でも追加してみた。\n結果 すごくどうでもいいことを書ける場所が出来た。いらないものはいらないが、欲しいものは欲しいので便利。自前で新しいテーマ（github の markdown に適用される CSS でも使おうかと……）を作ろうとしていたが、その必要はなくなった。\n","title":"hugo-xmin で `_index.md` を設定すると便利だった","url":"/post/index_md_is_useful/"},{"body":"使用したもの  hugo GitHub Actions による GitHub Pages への自動デプロイ hugo-xmin  上記をフォークしたものに変更 2020-02-03  MIT ライセンスの賜物     ムームードメイン  ","title":"ブログを作り直した","url":"/post/hello/"}]