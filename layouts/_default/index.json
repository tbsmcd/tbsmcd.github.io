{{ $.Scratch.Add "items" slice }}

{{ $counter := 0 }}
{{- range .Site.RegularPages -}}
  {{ if in .Permalink "/post/" }}
  {{ $counter = add $counter 1 }}
  {{ $date = .Date.Format "2006-01-02" }}
  {{- $.Scratch.Add "items" (dict "id" $counter "title" .Title "body" .Plain "url" .Permalink "date" $date) -}}
  {{ end }}
{{- end -}}

{{ $.Scratch.Get "items" | jsonify }}
