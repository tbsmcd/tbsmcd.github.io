<!doctype html><html lang=ja><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-158035573-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-158035573-1');</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>言語処理100本ノック 2020 第2章 | tbsmcd</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/code.css><link rel=stylesheet href=/css/fonts.css><link rel=apple-touch-icon sizes=57x57 href=/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/ms-icon-144x144.png"><meta name=theme-color content="#ffffff"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@tbsmcd"><meta name=twitter:creator content="@tbsmcd"><meta property="og:url" content="https://tbsmcd.net/post/100knock_2/"><meta property="og:title" content="言語処理100本ノック 2020 第2章 | tbsmcd"><meta property="og:description" content="言語処理100本ノック2020 第2章"><meta property="og:image" content="https://tbsmcd.net/post/100knock_2/ss.png"></head><body><header>tbsmcd : <a href=/>Index</a> | <a href=/archives/>Archives</a> | <a href=/tags/>Tags</a> | <a href=/search/>Search</a> | <a href=/profile/>Profile</a></header><main><h1 class=single>言語処理100本ノック 2020 第2章</h1><p class=article-date>2020-04-26</p><a href=/post/100knock_2/ss.png><img src=/post/100knock_2/ss_hub0a55df977fba671696b273c7d3ad462_86488_400x0_resize_q90_box_2.png alt="Jupyter notebook"></a><p><a href=https://nlp100.github.io/ja/>言語処理100本ノック 2020 - NLP100 2020</a></p><p><a href=/tags/%E8%A8%80%E8%AA%9E%E5%87%A6%E7%90%86100%E6%9C%AC%E3%83%8E%E3%83%83%E3%82%AF/>tag: 言語処理100本ノック</a></p><h2 id=code>code</h2><p>.<br>.<br>.<br>.<br>.<br>.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>target_dir</span> <span class=o>=</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>/users/tbsmcd/Documents/</span><span class=s1>&#39;</span>
<span class=n>file_path</span> <span class=o>=</span> <span class=n>target_dir</span> <span class=o>+</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>popular-names.txt</span><span class=s1>&#39;</span>

<span class=c1># 010</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>r</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>f</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span><span class=p>:</span> <span class=c1># 最初のキーを1として取得（デフォルトは0）</span>
        <span class=k>pass</span>
<span class=k>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>

<span class=c1># wc popular-names.txt </span>
<span class=c1>#     2780   11120   55026 popular-names.txt</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># 011</span>
<span class=n>res</span> <span class=o>=</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>&#39;</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>
        <span class=n>res</span> <span class=o>+</span><span class=o>=</span> <span class=n>row</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=sa></span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2>&#34;</span><span class=p>,</span> <span class=sa></span><span class=s2>&#34;</span><span class=s2> </span><span class=s2>&#34;</span><span class=p>)</span>
<span class=k>print</span><span class=p>(</span><span class=n>res</span><span class=p>)</span>

<span class=c1>#cat popular-names.txt | tr &#39;\t&#39; &#39; &#39;</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># 012</span>
<span class=n>col1</span> <span class=o>=</span> <span class=p>[</span><span class=p>]</span>
<span class=n>col2</span> <span class=o>=</span> <span class=p>[</span><span class=p>]</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>
        <span class=n>cols</span> <span class=o>=</span> <span class=n>row</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa></span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2>&#34;</span><span class=p>)</span>
        <span class=n>col1</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>cols</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=p>)</span>
        <span class=n>col2</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>cols</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=p>)</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>target_dir</span> <span class=o>+</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>col1.txt</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>w</span><span class=s1>&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>col1</span><span class=p>)</span> <span class=o>+</span> <span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>target_dir</span> <span class=o>+</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>col2.txt</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>w</span><span class=s1>&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>col2</span><span class=p>)</span> <span class=o>+</span> <span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
    
<span class=c1># cut -f 1 ./popular-names.txt</span>
<span class=c1># cut -f 2 ./popular-names.txt</span>
</code></pre></div><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># 013</span>
<span class=n>col1</span> <span class=o>=</span> <span class=p>[</span><span class=p>]</span>
<span class=n>col2</span> <span class=o>=</span> <span class=p>[</span><span class=p>]</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>target_dir</span> <span class=o>+</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>col1.txt</span><span class=s1>&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>
        <span class=n>col1</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>row</span><span class=o>.</span><span class=n>strip</span><span class=p>(</span><span class=p>)</span><span class=p>)</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>target_dir</span> <span class=o>+</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>col2.txt</span><span class=s1>&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>
        <span class=n>col2</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>row</span><span class=o>.</span><span class=n>strip</span><span class=p>(</span><span class=p>)</span><span class=p>)</span>
<span class=n>cols</span> <span class=o>=</span> <span class=p>[</span><span class=p>]</span>
<span class=k>for</span> <span class=n>c1</span><span class=p>,</span> <span class=n>c2</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>col1</span><span class=p>,</span> <span class=n>col2</span><span class=p>)</span><span class=p>:</span>
    <span class=n>cols</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>c1</span> <span class=o>+</span> <span class=sa></span><span class=s1>&#39;</span><span class=se>\t</span><span class=s1>&#39;</span> <span class=o>+</span> <span class=n>c2</span><span class=p>)</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>target_dir</span> <span class=o>+</span> <span class=sa></span><span class=s1>&#39;</span><span class=s1>col1+2.txt</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>w</span><span class=s1>&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>cols</span><span class=p>)</span><span class=p>)</span>

<span class=c1># paste col1.txt col2.txt</span>
</code></pre></div><p>paste コマンド超便利</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># 014</span>
<span class=kn>import</span> <span class=nn>argparse</span>

<span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span><span class=n>description</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>先頭からN行を出力する</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>lines</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>出力したい行数</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=n>args</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>(</span><span class=n>args</span><span class=o>=</span><span class=p>[</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>5</span><span class=s1>&#39;</span><span class=p>]</span><span class=p>)</span> 

<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>text</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=p>)</span>
<span class=k>print</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>text</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=nb>int</span><span class=p>(</span><span class=n>args</span><span class=o>.</span><span class=n>lines</span><span class=p>)</span><span class=p>]</span><span class=p>)</span><span class=p>)</span>

<span class=c1># head -n 5 popular-names.txt</span>
</code></pre></div><p>Jupyter を使っているため <code>parser.parse_args()</code> にはあらかじめ引数を与えておく。実際にコマンドとして使う際には空にする。</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># 015</span>
<span class=kn>import</span> <span class=nn>argparse</span>

<span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span><span class=n>description</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>末尾からN行を出力する</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>lines</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>出力したい行数</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=n>args</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>(</span><span class=n>args</span><span class=o>=</span><span class=p>[</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>5</span><span class=s1>&#39;</span><span class=p>]</span><span class=p>)</span> 

<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>text</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=p>)</span><span class=o>.</span><span class=n>strip</span><span class=p>(</span><span class=p>)</span>
<span class=k>print</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>text</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span><span class=p>[</span><span class=o>-</span><span class=nb>int</span><span class=p>(</span><span class=n>args</span><span class=o>.</span><span class=n>lines</span><span class=p>)</span><span class=p>:</span><span class=p>]</span><span class=p>)</span><span class=p>)</span>

<span class=c1># tail -n 5 popular-names.txt</span>
</code></pre></div><p><code>strip()</code> が無いと最終行のあとの改行文字でも分割され、空の要素が生まれる。</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># 016</span>
<span class=kn>import</span> <span class=nn>argparse</span>
<span class=kn>import</span> <span class=nn>math</span>

<span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span><span class=n>description</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>末尾からN行を出力する</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>split</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>help</span><span class=o>=</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>分割したい個数</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=n>args</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>(</span><span class=n>args</span><span class=o>=</span><span class=p>[</span><span class=sa></span><span class=s1>&#39;</span><span class=s1>5</span><span class=s1>&#39;</span><span class=p>]</span><span class=p>)</span> <span class=c1># Jupyter なので擬似的に渡す </span>

<span class=n>step</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>args</span><span class=o>.</span><span class=n>split</span><span class=p>)</span>

<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>rows</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=p>)</span><span class=o>.</span><span class=n>strip</span><span class=p>(</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=n>row_num</span> <span class=o>=</span> <span class=n>math</span><span class=o>.</span><span class=n>ceil</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>rows</span><span class=p>)</span> <span class=o>/</span> <span class=n>step</span><span class=p>)</span>

<span class=n>splited</span> <span class=o>=</span> <span class=p>[</span><span class=n>rows</span><span class=p>[</span><span class=n>i</span><span class=p>:</span><span class=n>i</span> <span class=o>+</span> <span class=n>row_num</span><span class=p>]</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>row_num</span><span class=p>,</span> <span class=n>step</span><span class=p>)</span><span class=p>]</span>
<span class=c1># あとは join で文字列にするだけ</span>

<span class=c1># split -n 5 popular-names.txt</span>
<span class=c1># mac だと使えないオプションが違う</span>
</code></pre></div><p><code>range()</code> の第3引数の step 個飛ばしでループさせているだけ。split コマンドの -n は mac のデフォルトだと使えない。</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># 017</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>rows</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=p>)</span><span class=o>.</span><span class=n>strip</span><span class=p>(</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=nb>set</span><span class=p>(</span><span class=p>[</span><span class=n>r</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\t</span><span class=s1>&#39;</span><span class=p>)</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>rows</span><span class=p>]</span><span class=p>)</span>

<span class=c1># cut -f 1 popular-names.txt | sort | uniq</span>
</code></pre></div><p>Python 側もだいぶ短いコードで実現できる。</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># 018</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>rows</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=p>)</span><span class=o>.</span><span class=n>strip</span><span class=p>(</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=nb>sorted</span><span class=p>(</span><span class=n>rows</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=nb>int</span><span class=p>(</span><span class=n>x</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\t</span><span class=s1>&#39;</span><span class=p>)</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=p>)</span><span class=o>*</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
<span class=c1># あとは join などで……</span>

<span class=c1># sort -brn -k 3 popular-names.txt</span>
</code></pre></div><p>文字列連結部分は繰り返しなので省略している。</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=c1># 019</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
    <span class=n>rows</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=p>)</span><span class=o>.</span><span class=n>strip</span><span class=p>(</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
<span class=n>names</span> <span class=o>=</span> <span class=p>[</span><span class=n>r</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa></span><span class=s1>&#39;</span><span class=se>\t</span><span class=s1>&#39;</span><span class=p>)</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>rows</span><span class=p>]</span>
<span class=n>names_dic</span> <span class=o>=</span> <span class=p>{</span><span class=p>}</span>
<span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=nb>set</span><span class=p>(</span><span class=n>names</span><span class=p>)</span><span class=p>:</span>
    <span class=n>names_dic</span><span class=p>[</span><span class=n>n</span><span class=p>]</span> <span class=o>=</span> <span class=n>names</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>

<span class=nb>sorted</span><span class=p>(</span><span class=n>names_dic</span><span class=o>.</span><span class=n>items</span><span class=p>(</span><span class=p>)</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=p>,</span> <span class=n>reverse</span><span class=o>=</span><span class=bp>True</span><span class=p>)</span>

<span class=c1># cut -f 1 popular-names.txt | sort | uniq -c | sort -brn -k 1</span>
</code></pre></div><p>items() を使えばタプルとして取得できるのをよく忘れる。</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python>
</code></pre></div></main><p>Tags:
<a href=/tags/%E8%A8%80%E8%AA%9E%E5%87%A6%E7%90%86100%E6%9C%AC%E3%83%8E%E3%83%83%E3%82%AF>言語処理100本ノック</a>
<a href=/tags/python>Python</a></p><footer><hr>Written by @tbsmcd. <a href=https://docs.google.com/forms/d/e/1FAIpQLScLrngN5Znk15zTy06N9qjO3Mi_ubIrXrX9cfYFid_2-mmbQQ/viewform>Contact</a> <a href=/index.xml>Feed</a></footer></body></html>