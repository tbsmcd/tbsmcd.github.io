<!doctype html><html lang=ja><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-158035573-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-158035573-1');</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Archives だけ降順にしたい | tbsmcd.net</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/code.css><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/custom.css><link rel=apple-touch-icon sizes=57x57 href=/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/ms-icon-144x144.png"><meta name=theme-color content="#ffffff"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@tbsmcd"><meta name=twitter:creator content="@tbsmcd"><meta property="og:url" content="https://tbsmcd.net/post/sort_term/"><meta property="og:title" content="Archives だけ降順にしたい | tbsmcd"><meta property="og:description" content="Terms は通常昇順だが、 Archives は降順のほうが良い"><meta name=description content="Terms は通常昇順だが、 Archives は降順のほうが良い"><meta property="og:image" content="https://tbsmcd.net/post/added_favicon/icon_mono.jpg"></head><body><header>tbsmcd.net <a href=/><span>index</span></a>, <a href=/archives/><span>archives</span></a>, <a href=/tags/><span>tags</span></a>, <a href=/search/><span>search</span></a>, <a href=/profile/><span>profile</span></a></header><main><h1 class=h1-mono-post><span>Archives だけ降順にしたい</span></h1><p class=article-date>2020-03-09 00:01:24 +0900</p><h2 id=terms->Terms の昇順/降順</h2><p>hugo の Terms ……このブログに於いては <a href=/tags/>/tags/</a> と <a href=/archives/>/archives/</a> について、通常のページでは辞書的に昇順で表示したいが、/archives/ については新しい順になるよう降順で表示したい。そこで <a href=https://github.com/tbsmcd/tbsmcd.github.io/blob/2be3271d4e1153febfa49c4af5a82736f9354a97/layouts/_default/terms.html>/layouts/_default/terms.html</a> を設定したのだけど、もっとスマートな書き方があるのではないかと迷っている。特に <code>{{ if }} 〜 {{ else }}</code> で重複して html を書いてるのどうかと思うんだよなあ……</p><div class=highlight><pre class=chroma><code class=language-html data-lang=html>{{ partial &#34;header.html&#34; . }}
<span class=p>&lt;</span><span class=nt>h1</span><span class=p></span><span class=p>&gt;</span>{{ .Title }}<span class=p>&lt;</span><span class=p>/</span><span class=nt>h1</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>ul</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;terms&#34;</span><span class=p></span><span class=p>&gt;</span>
{{ if eq .Title &#34;Archives&#34; }} 
  {{ range .Data.Terms.Alphabetical.Reverse }}
  <span class=p>&lt;</span><span class=nt>li</span><span class=p></span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Page.RelPermalink }}&#34;</span><span class=p></span><span class=p>&gt;</span>{{ .Page.Title }}<span class=p>&lt;</span><span class=p>/</span><span class=nt>a</span><span class=p>&gt;</span> ({{ .Count }})
  <span class=p>&lt;</span><span class=p>/</span><span class=nt>li</span><span class=p>&gt;</span>
  {{ end }}
{{ else }}
  {{ range .Data.Terms }}
  <span class=p>&lt;</span><span class=nt>li</span><span class=p></span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Page.RelPermalink }}&#34;</span><span class=p></span><span class=p>&gt;</span>{{ .Page.Title }}<span class=p>&lt;</span><span class=p>/</span><span class=nt>a</span><span class=p>&gt;</span> ({{ .Count }})
  <span class=p>&lt;</span><span class=p>/</span><span class=nt>li</span><span class=p>&gt;</span>
  {{ end }}
{{ end }}
<span class=p>&lt;</span><span class=p>/</span><span class=nt>ul</span><span class=p>&gt;</span>

{{ partial &#34;footer.html&#34; . }}
</code></pre></div></main><p>Tags:
<a href=/tags/hugo>hugo</a>
<a href=/tags/%E6%97%A5%E8%A8%98>日記</a></p><footer><hr>Written by Mochida Tsubasa(@tbsmcd). <a href=https://docs.google.com/forms/d/e/1FAIpQLScLrngN5Znk15zTy06N9qjO3Mi_ubIrXrX9cfYFid_2-mmbQQ/viewform>Contact</a> <a href=/index.xml>Feed</a></footer></body></html>