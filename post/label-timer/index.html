<!doctype html><html lang=ja><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-158035573-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-158035573-1');</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Issue, Pull Request のリードタイムを計測できる GitHub Action「Label timer」をリリースした | tbsmcd.net</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/scss/code.min.daf683076712a8fd05c112ad6575fb841b4d15640f4c87e71541744189b69260.css><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/scss/custom.min.4550ef8b7c1940265994d007062c641176b418019e506df8609e669adc83a5b3.css><script src=/js/main.js defer></script><link rel=apple-touch-icon sizes=57x57 href=/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/ms-icon-144x144.png"><meta name=theme-color content="#ffffff"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@tbsmcd"><meta name=twitter:creator content="@tbsmcd"><meta property="og:url" content="https://tbsmcd.net/post/label-timer/"><meta property="og:title" content="Issue, Pull Request のリードタイムを計測できる GitHub Action「Label timer」をリリースした | tbsmcd"><meta property="og:description" content="Issue, Pull Request のリードタイムを計測できる GitHub Action「Label timer」をリリースした。ラベルの付いていた時間を計測でき、結果を後続の steps, jobs にパイプすることができるので、 DB やスプレッドシートに保存できる。Dev Ops の改善に使えると思う。"><meta name=description content="Issue, Pull Request のリードタイムを計測できる GitHub Action「Label timer」をリリースした。ラベルの付いていた時間を計測でき、結果を後続の steps, jobs にパイプすることができるので、 DB やスプレッドシートに保存できる。Dev Ops の改善に使えると思う。"><meta property="og:image" content="https://tbsmcd.net/post/label-timer/header.png"></head><body><div class=wrapper><header><div class=title-container><div class="title-item site-title">tbsmcd.net</div><div class=title-item><input type=checkbox id=cb-dark-theme> Dark theme</div></div><div><a href=/><span>index</span></a>, <a href=/archives/><span>archives</span></a>, <a href=/tags/><span>tags</span></a>, <a href=/search/><span>search</span></a>, <a href=/profile/><span>profile</span></a></div></header><main><h1 class=h1-mono-post><span>Issue, Pull Request のリードタイムを計測できる GitHub Action「Label timer」をリリースした</span></h1><div class=article-date-box><p class=article-date>Created: 2021-03-11</p></div><div class=in-article-list><p class=in-article-list-p>Series: <span class=series-name>label_timer</span></p><ol class=num-page-list reversed><li>2021-03-17 <a href=/post/using-github-event-path/>内部で GitHub API を用いる GitHub Actions を、 github.com と GitHub Enterprise の両方に対応させる</a></li><li>2021-03-11 Issue, Pull Request のリードタイムを計測できる GitHub Action「Label timer」をリリースした</li></ol></div><p>リンク</p><ul><li><a href=https://github.com/marketplace/actions/label-timer>Label timer · Actions · GitHub Marketplace</a></li><li><a href=https://github.com/tbsmcd/label_timer/blob/master/docs/README.ja.md>日本語ドキュメント</a></li></ul><h2 id=heading>概要</h2><p>　GitHub(github.com, GitHub Enterprise) の Issue, Pull Request に特定のラベルが付与されていた時間を計測し記録するアクションを公開した。<a href=https://docs.github.com/ja/actions/creating-actions/creating-a-docker-container-action>Docker コンテナのアクション</a>として作成し、言語は Pyhton を使用している。</p><h2 id=heading-1>利用シーン</h2><p>　開発を行っているとレビュー待ちなどの時間が発生し、それが長すぎるとユーザに価値を届けるまでの時間も長くなる。運用でもチームに依頼が来てから解決するまでの時間が長ければ同様にユーザを待たせることになる。これらの時間を計測し、業務や組織を改善したい場合に使うことを想定している。</p><h2 id=heading-2>使い方</h2><p>　基本的には README（<a href=https://github.com/tbsmcd/label_timer/blob/master/README.md>英語</a>, <a href=https://github.com/tbsmcd/label_timer/blob/master/docs/README.ja.md>日本語</a>） の <code>example.yml</code> に書かれたコメントを元に、 <code>.gihub/workflows/</code> 以下に yaml を設定したら動く。Issue だけ、 Pull Request だけ、またはその両方を対象にすることができ、ラベルもカンマ区切りで複数指定できる。計測結果はコメントとして書き出されるが、 outputs 変数に代入されるので後続の steps または jobs でも利用ができる。これによりチームで利用している DB, BigQuery, スプレッドシート等に計測結果を記録できる。</p><h3 id=heading-3>計測の開始</h3><a href=/post/label-timer/add.png><img src=/post/label-timer/add_hucf28ffae366da2d0f25df3adba36ba00_22884_600x0_resize_q90_box_2.png alt=ラベルを付加したところ></a><p>　計測対象のラベルを付加するとラベル名、Issue(Pull Request)番号、開始時の Unix time （秒）を記録するためのラベルが付与される。</p><h3 id=heading-4>計測の終了</h3><a href=/post/label-timer/remove.png><img src=/post/label-timer/remove_hu6bdcff9e3c75df46be40ea1b75c89bb0_47839_600x0_resize_q90_box_2.png alt=ラベルを削除したところ></a><p>　計測対象のラベルを削除すると記録用のラベルが削除され、コメントとして付与から削除までの時間が記録される。複数回付与・削除を繰り返した場合には <code>Total time</code> に合計値が記録される。記録用のラベルは Issue/Pull Request から除外されるだけでなくリポジトリから削除されるので不要なラベルが溜まるということはない。ただし予期せぬエラーにより削除されないことはあり得るので明らかに無駄なものが溜まった場合は削除してもらえば良いだろう。</p><h2 id=heading-5>技術的なトピックス</h2><p>　この記事の後にいくつか投稿する予定。</p></main><div class=tag-list>Tags:
<span><a href=/tags/github-actions>GitHub Actions</a></span>
<span><a href=/tags/python>Python</a></span>
<span><a href=/tags/oss>OSS</a></span></div><footer>Mochida Tsubasa (@tbsmcd)<br><a href=https://docs.google.com/forms/d/e/1FAIpQLScLrngN5Znk15zTy06N9qjO3Mi_ubIrXrX9cfYFid_2-mmbQQ/viewform>Contact</a>, <a href=/index.xml>Feed</a></footer></div></body></html>